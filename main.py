# app.py
import streamlit as st
import random

st.set_page_config(page_title="MBTI 진로 추천 😎", page_icon="🎯", layout="centered")

st.title("MBTI로 보는 진로 추천 🎓✨")
st.write("원하는 MBTI를 골라봐! 각 유형에 맞춰 **진로 2가지**와\n어떤 **학과**가 잘 맞는지, 그리고 **어떤 성격**이 잘 맞는지도 알려줄게. 😊")

MBTI_LIST = [
    "ISTJ", "ISFJ", "INFJ", "INTJ",
    "ISTP", "ISFP", "INFP", "INTP",
    "ESTP", "ESFP", "ENFP", "ENTP",
    "ESTJ", "ESFJ", "ENTJ", "ENFJ"
]

# MBTI -> 목록: [(직업, 학과 추천, 어울리는 성격 설명), ...]
MBTI_MAP = {
    "ISTJ": [
        ("공무원 / 행정직", "행정학, 법학, 경영학", "규칙적이고 책임감 강한 사람에게 찰떡! 꼼꼼하고 성실한 성격이 유리해요. ✅"),
        ("회계사 / 재무분석가", "회계학, 경영학, 금융학", "숫자와 규칙을 좋아하는 사람에게 딱이에요. 안정적 커리어 선호자 추천. 💼")
    ],
    "ISFJ": [
        ("간호사 / 보건의료인", "간호학, 보건학, 사회복지학", "섬세하고 타인을 돌보는 걸 좋아하는 분께 잘 맞아요. 따뜻한 마음이 장점! ❤️"),
        ("교육자(초중등 교사)", "교육학, 아동학, 전공 과목 교육학", "책임감 있고 학생들을 챙기는 걸 즐기는 분에게 추천해요. 🍎")
    ],
    "INFJ": [
        ("상담사 / 임상심리사", "심리학, 상담학, 사회복지학", "사람의 마음을 이해하고 돕는 걸 좋아하는 분께 어울려요. 공감 능력 최고! 🧠💬"),
        ("문화예술기획자", "문화콘텐츠학, 예술학, 디자인학", "창의적이면서도 의미 있는 일을 찾는 분에게 추천해요. 🎭✨")
    ],
    "INTJ": [
        ("연구원 / 데이터 사이언티스트", "통계학, 컴퓨터공학, 수학", "분석적이고 계획을 잘 세우는 사람에게 최고! 문제 해결 즐기는 분 추천. 🔬📊"),
        ("전략기획 / 컨설턴트", "경영학, 산업공학, 경제학", "논리적 사고와 큰 그림 그리기를 좋아하는 분께 잘 맞아요. ♟️")
    ],
    "ISTP": [
        ("기계/전자 엔지니어", "기계공학, 전자공학, 메카트로닉스", "현장감각 있고 손으로 만드는 걸 좋아하는 분께 좋아요. 도전 정신 굿! 🔧"),
        ("소프트웨어 개발자", "컴퓨터공학, 소프트웨어학", "실용적으로 문제를 해결하는 걸 즐기는 분에게 추천해요. 🖥️")
    ],
    "ISFP": [
        ("패션/디자인 분야", "디자인학, 패션학, 시각디자인", "감각적이고 표현을 좋아하는 분께 딱! 개성 표현 좋아하면 굿. 🎨👗"),
        ("콘텐츠 크리에이터(영상/사진)", "미디어학, 영상학, 시각디자인", "감성 전달을 잘하고 창의적 표현을 즐기는 분에게 추천해요. 📸🎬")
    ],
    "INFP": [
        ("작가 / 편집자", "문예창작, 국어국문, 커뮤니케이션", "내면이 풍부하고 의미 있는 이야기를 만들고 싶은 분께 좋아요. ✍️📚"),
        ("사회복지사 / NGO 활동가", "사회복지학, 국제학, 상담학", "가치 중심으로 일하고 싶고 사람 돕는 걸 좋아하는 분 추천! 🌍🤝")
    ],
    "INTP": [
        ("연구개발(R&D) / 학자", "물리학, 수학, 컴퓨터공학", "호기심 많고 깊게 파고들기 좋아하는 분에게 딱이에요. 분석력 최고! 🔍"),
        ("소프트웨어 설계자(아키텍트)", "컴퓨터공학, 소프트웨어학", "논리적 사고로 시스템 구조 설계하는 걸 즐기면 추천합니다. 🧩")
    ],
    "ESTP": [
        ("영업 / 마케팅", "경영학, 광고홍보학, 무역학", "즉흥적이고 사람 만나는 걸 즐기는 분께 딱! 행동파에게 유리해요. 💬🚀"),
        ("응급구조사 / 구조대", "응급구조학, 보건학, 스포츠학", "위기 상황에서 빠르게 움직이고 판단하는 걸 즐기는 분 추천! 🚑")
    ],
    "ESFP": [
        ("연예/방송/공연", "영상학, 공연예술학, 방송학", "무대나 사람 앞에서 에너지 발산하는 걸 좋아하면 최고예요. ✨🎤"),
        ("이벤트/서비스 기획자", "관광학, 호텔경영, 문화콘텐츠학", "사람 기쁘게 하는 일과 현장 운영 즐기는 분에게 추천! 🎉")
    ],
    "ENFP": [
        ("창업가 / 스타트업", "경영학, 창업학, 디자인씽킹 관련 전공", "아이디어 많고 사람과 협업 좋아하면 잘 맞아요. 모험심 굿! 🚀"),
        ("홍보(PR) / 브랜드매니저", "광고홍보학, 커뮤니케이션학, 경영학", "사람 마음을 움직이는 일 즐기는 분에게 추천해요. 💡")
    ],
    "ENTP": [
        ("제품기획 / 서비스기획", "경영학, 산업디자인, 컴퓨터공학", "아이디어로 문제를 해결하는 걸 즐기면 딱이에요. 창의+논리! 🧠💡"),
        ("변호사 / 법률가", "법학, 정치외교학 등", "논리적 토론과 설득을 즐기는 분께 추천합니다. 말로 이끄는 재주가 있으면 굿. ⚖️")
    ],
    "ESTJ": [
        ("경영자 / 관리자", "경영학, 산업관리, 행정학", "리더십 있고 조직 운영을 잘하는 분에게 잘 맞아요. 실무 중심! 🗂️"),
        ("프로젝트 매니저(PM)", "경영학, 산업공학, 정보시스템", "조직 운영과 일정 관리 잘하는 실용형에게 추천합니다. 📋")
    ],
    "ESFJ": [
        ("간호/교육/의료서비스", "간호학, 교육학, 사회복지학", "친절하고 사람 챙기기 좋아하면 찰떡! 팀에서 분위기 메이커로 활약. 🤗"),
        ("인사(HR) / 고객지원", "경영학, 심리학, 인적자원관리", "사람을 이해하고 지원하는 역할을 즐기면 추천해요. 👥")
    ],
    "ENTJ": [
        ("경영 컨설턴트 / CEO", "경영학, 경제학, 산업공학", "목표 지향적이고 결단력 있는 분에게 강추! 전략적으로 일하는 타입. 🏁"),
        ("금융/투자 전문가", "금융학, 경제학, 경영학", "빠른 판단과 큰 그림을 보는 능력이 있으면 잘 맞아요. 📈")
    ],
    "ENFJ": [
        ("교육자 / 리더십 코치", "교육학, 상담학, 경영학", "사람 이끄는 걸 좋아하고 성장 도와주는 걸 즐기는 분께 추천해요. 🌱"),
        ("PR/커뮤니티 매니저", "커뮤니케이션학, 광고홍보학, 사회학", "사람과 네트워킹하며 영향력 발휘하는 걸 좋아하면 딱이에요. 🤝")
    ]
}

st.markdown("---")
col1, col2 = st.columns(2)

with col1:
    mbti = st.selectbox("MBTI를 선택해줘 ✨", MBTI_LIST, index=0)

with col2:
    if st.button("랜덤으로 추천해줘 🎲"):
        mbti = random.choice(MBTI_LIST)
        st.success(f"랜덤 선택: {mbti}")

st.markdown("### 추천 결과 🔎")
if mbti:
    st.subheader(f"{mbti} 유형을 위한 추천 진로")
    entries = MBTI_MAP.get(mbti, [])
    for idx, (career, majors, personality) in enumerate(entries, start=1):
        st.markdown(f"**{idx}. {career}**  { '⭐' * (3-abs(idx-1)) }")
        st.write(f"- 추천 학과: `{majors}`")
        st.write(f"- 어울리는 성격: {personality}")
        st.write("")  # 빈 줄

    st.markdown("### 한 줄 팁 💡")
    tip = {
        "ISTJ":"계획 세우고 차근차근 실천하면 안정적인 커리어를 쌓을 수 있어요. 📚",
        "ISFJ":"작은 도움으로도 큰 만족을 느끼는 타입! 현장에서 빛나는 직업이 많아요. 🌟",
        "INFJ":"자신의 가치와 맞는 분야를 찾아보세요. 의미 있는 일이 동기부여가 됩니다. 🌱",
        "INTJ":"장기 목표를 세워 전문성을 키우면 강력한 경쟁력이 됩니다. 🛠️",
        "ISTP":"직접 손으로 만들고 문제 해결하는 일을 경험해보세요. 실습이 큰 도움이 돼요. 🔧",
        "ISFP":"감각과 감성으로 표현하는 분야에서 독특한 강점을 발휘할 수 있어요. 🎨",
        "INFP":"가치 중심으로 움직이면 일의 만족도가 높아져요. 다양한 경험을 해보세요. ✨",
        "INTP":"호기심을 실험으로 연결하면 연구나 개발에서 강해집니다. 🔬",
        "ESTP":"현장 경험을 많이 쌓아 즉시 실행하는 능력을 키워보세요. ⚡",
        "ESFP":"사람들과 함께하는 에너지 넘치는 활동에서 빛나요. 공연/행사 등 추천! 🎉",
        "ENFP":"아이디어를 실제로 실행해보면 진로가 확실해질 거예요. 협업도 좋아요. 🚀",
        "ENTP":"토론과 실험을 통해 아이디어를 다듬으면 창의적 성과가 커져요. 🧠",
        "ESTJ":"관리 능력을 실무로 증명하면 리더로 성장하기 쉬워요. 📋",
        "ESFJ":"사람 돌보는 능력은 언제나 큰 자산이에요. 팀에서 중심 역할을 해보세요. 🤝",
        "ENTJ":"목표 설정과 실행력으로 빠르게 성장할 수 있어요. 전략적으로 움직이자! 🏆",
        "ENFJ":"다른 사람의 잠재력을 끌어내는 능력이 탁월해요. 리더십을 키우세요. 🌟"
    }.get(mbti, "자신의 흥미를 따라 다양한 경험을 해보는 게 최고! 😊")

    st.info(tip)

st.markdown("---")
st.write("원하면 이 결과를 더 자세히 바꿔줄게 — 예를 들어 **직업군을 더 추가**하거나, **학교별 맞춤 학과 추천**처럼 세부적으로도 가능해! 🙌")
